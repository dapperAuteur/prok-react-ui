{"ast":null,"code":"import _regeneratorRuntime from \"/Users/awe/proj/software/work/intraedge/projects/prok/prok-react-ui/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/awe/proj/software/work/intraedge/projects/prok/prok-react-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/awe/proj/software/work/intraedge/projects/prok/prok-react-ui/src/components/Match/Matches.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport MatchContext from \"../../store/match-context\";\nvar API_URL = \"//localhost:8080/api/ver0001/matches\"; // const API_URL = \"https://react-shopping-list.firebaseio.com/matches.json\";\n// let matches = [];\n// let matchData = {};\n// const getMatches = async function() {\n//   const resMatches = await axios\n//     .get(API_URL)\n//     .then(function(res) {\n//       console.log(\"res 13\", res);\n//       matchData = res;\n//     })\n//     .catch(function(err) {\n//       console.log(\"err 17\", err);\n//     });\n// };\n// setTimeout(() => {\n//   getMatches();\n// }, 5000);\n// let a = await getMatches();\n// console.log(\"a\", a);\n// matches = matchData.data;\n// console.log(\"matches 26\", matches);\n\nexport default function Matches(props) {\n  console.log(\"props\", props); // const [matches, setMatches] = useState([]);\n\n  var context = useContext(MatchContext);\n  var listOfMatches = [];\n  console.log(\"context\", context);\n  var setMatches = context.setMatches;\n\n  var getCurrentMatches =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(context) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(API_URL).then(function (serverMatches) {\n                console.log(\"serverMatches\", serverMatches);\n                setMatches(serverMatches.data);\n                listOfMatches = serverMatches.data;\n                return serverMatches.data;\n              });\n\n            case 2:\n              res = _context.sent;\n              return _context.abrupt(\"return\", res);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getCurrentMatches(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(); // const listOfMatches = getCurrentMatches();\n\n\n  console.log(\"listOfMatches\", listOfMatches);\n  var matches = context.matches;\n  console.log(\"matches\", matches);\n  var currentMatches = matches.map(function (match) {\n    return;\n  });\n  console.log(\"matches\", matches);\n  useEffect(function () {\n    return function () {\n      getCurrentMatches();\n    };\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Matches\"), currentMatches);\n}","map":{"version":3,"sources":["/Users/awe/proj/software/work/intraedge/projects/prok/prok-react-ui/src/components/Match/Matches.js"],"names":["React","useContext","useEffect","useState","axios","MatchContext","API_URL","Matches","props","console","log","context","listOfMatches","setMatches","getCurrentMatches","get","then","serverMatches","data","res","matches","currentMatches","map","match"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AAEA,IAAMC,OAAO,GAAG,sCAAhB,C,CACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACrCC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB,EADqC,CAErC;;AACA,MAAMG,OAAO,GAAGV,UAAU,CAACI,YAAD,CAA1B;AACA,MAAIO,aAAa,GAAG,EAApB;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBC,OAAvB;AACA,MAAME,UAAU,GAAGF,OAAO,CAACE,UAA3B;;AACA,MAAMC,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,iBAAMH,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACNP,KAAK,CAACW,GAAN,CAAUT,OAAV,EAAmBU,IAAnB,CAAwB,UAAAC,aAAa,EAAI;AACzDR,gBAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BO,aAA7B;AACAJ,gBAAAA,UAAU,CAACI,aAAa,CAACC,IAAf,CAAV;AACAN,gBAAAA,aAAa,GAAGK,aAAa,CAACC,IAA9B;AACA,uBAAOD,aAAa,CAACC,IAArB;AACD,eALiB,CADM;;AAAA;AAClBC,cAAAA,GADkB;AAAA,+CAOjBA,GAPiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAjBL,iBAAiB;AAAA;AAAA;AAAA,KAAvB,CAPqC,CAgBrC;;;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BE,aAA7B;AAjBqC,MAmB7BQ,OAnB6B,GAmBjBT,OAnBiB,CAmB7BS,OAnB6B;AAoBrCX,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBU,OAAvB;AACA,MAAMC,cAAc,GAAGD,OAAO,CAACE,GAAR,CAAY,UAAAC,KAAK,EAAI;AAC1C;AACD,GAFsB,CAAvB;AAGAd,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBU,OAAvB;AACAlB,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACXY,MAAAA,iBAAiB;AAClB,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;AAKA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEGO,cAFH,CADF;AAMD","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport MatchContext from \"../../store/match-context\";\n\nconst API_URL = \"//localhost:8080/api/ver0001/matches\";\n// const API_URL = \"https://react-shopping-list.firebaseio.com/matches.json\";\n\n// let matches = [];\n// let matchData = {};\n// const getMatches = async function() {\n//   const resMatches = await axios\n//     .get(API_URL)\n//     .then(function(res) {\n//       console.log(\"res 13\", res);\n//       matchData = res;\n//     })\n//     .catch(function(err) {\n//       console.log(\"err 17\", err);\n//     });\n// };\n\n// setTimeout(() => {\n//   getMatches();\n// }, 5000);\n// let a = await getMatches();\n// console.log(\"a\", a);\n\n// matches = matchData.data;\n// console.log(\"matches 26\", matches);\n\nexport default function Matches(props) {\n  console.log(\"props\", props);\n  // const [matches, setMatches] = useState([]);\n  const context = useContext(MatchContext);\n  let listOfMatches = [];\n  console.log(\"context\", context);\n  const setMatches = context.setMatches;\n  const getCurrentMatches = async context => {\n    const res = await axios.get(API_URL).then(serverMatches => {\n      console.log(\"serverMatches\", serverMatches);\n      setMatches(serverMatches.data);\n      listOfMatches = serverMatches.data;\n      return serverMatches.data;\n    });\n    return res;\n  };\n  // const listOfMatches = getCurrentMatches();\n  console.log(\"listOfMatches\", listOfMatches);\n\n  const { matches } = context;\n  console.log(\"matches\", matches);\n  const currentMatches = matches.map(match => {\n    return;\n  });\n  console.log(\"matches\", matches);\n  useEffect(() => {\n    return () => {\n      getCurrentMatches();\n    };\n  }, []);\n  return (\n    <div>\n      <h2>Matches</h2>\n      {currentMatches}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}